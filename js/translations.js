const translations = {
    en: {
        nav_home: "Home",
        nav_about: "About Us",
        nav_services: "Services",
        nav_projects: "Projects",
        nav_contact: "Contact Us",
        hero_title: "We Transform Spaces with Color",
        hero_subtitle: "Professional painting services for homes and businesses",
        hero_cta: "Contact Us",
        about_title: "About Us",
        about_text_full: "CH BROSS Painting is your best choice in professional painting services. With more than 10 years of experience in the market, we have stood out for providing comprehensive painting solutions for homes and businesses. Our highly trained team of professionals uses top-quality materials and modern techniques to ensure exceptional results in every project.",
        feature_experience_title: "Experience",
        feature_experience_desc: "Years of market experience",
        feature_quality_title: "Quality",
        feature_quality_desc: "Premium materials",
        feature_punctuality_title: "Punctuality",
        feature_punctuality_desc: "On-time delivery",
        services_title: "House Painting Services",
        projects_title: "Our Projects",
        contact_title: "Contact Us",
        contact_name: "Name",
        contact_email: "Email",
        contact_phone: "Phone",
        contact_message: "Message",
        contact_send: "Send Message",
        chat_with_us: "Chat with us",
        footer_rights: "All rights reserved.",
        service_interior_title: "Interior",
        service_interior_features: ["Walls and ceilings", "Professional finishes", "Surface preparation", "Custom colors"],
        service_exterior_title: "Exterior",
        service_exterior_features: ["Complete facades", "Weather protection", "Professional sealing", "Guaranteed durability"],
        service_structures_title: "Structures",
        service_structures_features: ["Fences", "Porches", "Cabinets", "Drywall"],
        service_additional_title: "Additional Services",
        service_additional_features: ["Pressure washing", "Minor repairs", "Color consulting", "And more!"],
        service_cta: "Request Service",
        select_language: "Seleccione su idioma",
        carousel_slide1_title: "Interior Project",
        carousel_slide1_desc: "Complete Transformation",
        carousel_slide2_title: "Professional Finishes",
        carousel_slide2_desc: "Guaranteed Quality",
        carousel_slide3_title: "Exterior Project",
        carousel_slide3_desc: "Complete Renovation",
        carousel_slide4_title: "Facades",
        carousel_slide4_desc: "Long-lasting Protection",
        carousel_slide5_title: "Special Finishes",
        carousel_slide5_desc: "Unique Designs",
        carousel_slide6_title: "Perfect Details",
        carousel_slide6_desc: "Excellence in Every Stroke",
        carousel_1_title: "Interior Project",
        carousel_1_desc: "Complete Transformation",
        carousel_2_title: "Professional Finishes",
        carousel_2_desc: "Guaranteed Quality",
        carousel_3_title: "Exterior Project",
        carousel_3_desc: "Complete Renovation",
        carousel_4_title: "Facades",
        carousel_4_desc: "Long-lasting Protection",
        carousel_5_title: "Special Finishes",
        carousel_5_desc: "Unique Designs",
        carousel_6_title: "Perfect Details",
        carousel_6_desc: "Excellence in Every Stroke",
        "PROYECTO INTERIOR": "INTERIOR PROJECT",
        "Transformación completa": "Complete Transformation",
        slide_title_1: "INTERIOR PROJECT",
        slide_desc_1: "Complete Transformation",
        slide_title_2: "Professional Finishes",
        slide_desc_2: "Guaranteed Quality",
        slide_title_3: "Exterior Project",
        slide_desc_3: "Complete Renovation",
        slide_title_4: "Facades",
        slide_desc_4: "Long-lasting Protection",
        slide_title_5: "Special Finishes",
        slide_desc_5: "Unique Designs",
        slide_title_6: "Perfect Details",
        slide_desc_6: "Excellence in Every Stroke",
        service_1_title: "Interior",
        service_1_item1: "Walls and ceilings",
        service_1_item2: "Professional finishes",
        service_1_item3: "Surface preparation",
        service_1_item4: "Custom colors",
        service_2_title: "Exterior",
        service_2_item1: "Complete facades",
        service_2_item2: "Weather protection",
        service_2_item3: "Professional sealing",
        service_2_item4: "Guaranteed durability",
        service_3_title: "Structures",
        service_3_item1: "Fences",
        service_3_item2: "Porches",
        service_3_item3: "Cabinets",
        service_3_item4: "Drywall",
        service_4_title: "Additional Services",
        service_4_item1: "Pressure washing",
        service_4_item2: "Minor repairs",
        service_4_item3: "Color consulting",
        service_4_item4: "And more!"
    },
    es: {
        nav_home: "Inicio",
        nav_about: "Conócenos",
        nav_services: "Servicios",
        nav_projects: "Proyectos",
        nav_contact: "Contáctanos",
        hero_title: "Transformamos Espacios con Color",
        hero_subtitle: "Servicios profesionales de pintura para hogares y negocios",
        hero_cta: "Contáctanos",
        about_title: "Conócenos",
        about_text_full: "CH BROSS Painting es tu mejor opción en servicios de pintura profesional. Con más de 10 años de experiencia en el mercado, nos hemos destacado por brindar soluciones integrales de pintura para hogares y negocios. Nuestro equipo de profesionales altamente capacitados utiliza materiales de primera calidad y técnicas modernas para garantizar resultados excepcionales en cada proyecto.",
        feature_experience_title: "Experiencia",
        feature_experience_desc: "Años de experiencia en el mercado",
        feature_quality_title: "Calidad",
        feature_quality_desc: "Materiales de primera calidad",
        feature_punctuality_title: "Puntualidad",
        feature_punctuality_desc: "Entregas a tiempo",
        services_title: "Servicios de Pintura",
        projects_title: "Nuestros Proyectos",
        contact_title: "Contáctanos",
        contact_name: "Nombre",
        contact_email: "Correo",
        contact_phone: "Teléfono",
        contact_message: "Mensaje",
        contact_send: "Enviar Mensaje",
        chat_with_us: "Chat con nosotros",
        footer_rights: "Todos los derechos reservados.",
        service_interior_title: "Interior",
        service_interior_features: ["Paredes y techos", "Acabados profesionales", "Preparación de superficies", "Colores personalizados"],
        service_exterior_title: "Exterior",
        service_exterior_features: ["Fachadas completas", "Protección climática", "Sellado profesional", "Durabilidad garantizada"],
        service_structures_title: "Estructuras",
        service_structures_features: ["Cercas", "Porches", "Gabinetes", "Drywall"],
        service_additional_title: "Servicios Adicionales",
        service_additional_features: ["Pressure washing", "Reparaciones menores", "Consultoría de color", "¡Y más!"],
        service_cta: "Solicitar Servicio",
        select_language: "Select your language",
        carousel_slide1_title: "Proyecto Interior",
        carousel_slide1_desc: "Transformación completa",
        carousel_slide2_title: "Acabados Profesionales",
        carousel_slide2_desc: "Calidad garantizada",
        carousel_slide3_title: "Proyecto Exterior",
        carousel_slide3_desc: "Renovación completa",
        carousel_slide4_title: "Fachadas",
        carousel_slide4_desc: "Protección duradera",
        carousel_slide5_title: "Acabados Especiales",
        carousel_slide5_desc: "Diseños únicos",
        carousel_slide6_title: "Detalles Perfectos",
        carousel_slide6_desc: "Excelencia en cada trazo",
        carousel_1_title: "Proyecto Interior",
        carousel_1_desc: "Transformación completa",
        carousel_2_title: "Acabados Profesionales",
        carousel_2_desc: "Calidad garantizada",
        carousel_3_title: "Proyecto Exterior",
        carousel_3_desc: "Renovación completa",
        carousel_4_title: "Fachadas",
        carousel_4_desc: "Protección duradera",
        carousel_5_title: "Acabados Especiales",
        carousel_5_desc: "Diseños únicos",
        carousel_6_title: "Detalles Perfectos",
        carousel_6_desc: "Excelencia en cada trazo",
        "PROYECTO INTERIOR": "PROYECTO INTERIOR",
        "Transformación completa": "Transformación completa",
        slide_title_1: "PROYECTO INTERIOR",
        slide_desc_1: "Transformación completa",
        slide_title_2: "Acabados Profesionales",
        slide_desc_2: "Calidad garantizada",
        slide_title_3: "Proyecto Exterior",
        slide_desc_3: "Renovación completa",
        slide_title_4: "Fachadas",
        slide_desc_4: "Protección duradera",
        slide_title_5: "Acabados Especiales",
        slide_desc_5: "Diseños únicos",
        slide_title_6: "Detalles Perfectos",
        slide_desc_6: "Excelencia en cada trazo",
        service_1_title: "Interior",
        service_1_item1: "Paredes y techos",
        service_1_item2: "Acabados profesionales",
        service_1_item3: "Preparación de superficies",
        service_1_item4: "Colores personalizados",
        service_2_title: "Exterior",
        service_2_item1: "Fachadas completas",
        service_2_item2: "Protección climática",
        service_2_item3: "Sellado profesional",
        service_2_item4: "Durabilidad garantizada",
        service_3_title: "Estructuras",
        service_3_item1: "Cercas (Fences)",
        service_3_item2: "Porches",
        service_3_item3: "Gabinetes (Cabinets)",
        service_3_item4: "Drywall",
        service_4_title: "Servicios Adicionales",
        service_4_item1: "Pressure washing",
        service_4_item2: "Reparaciones menores",
        service_4_item3: "Consultoría de color",
        service_4_item4: "¡Y más!"
    },
    services_interior_title: "Interior Painting",
    services_interior_desc: "Transform your interior spaces with our professional painting services. We work with precision and care to deliver exceptional results.",
    services_exterior_title: "Exterior Painting",
    services_exterior_desc: "Protect and beautify your property's exterior with our durable and weather-resistant painting solutions.",
    services_commercial_title: "Commercial Painting",
    services_commercial_desc: "Professional painting services for businesses, offices, and commercial spaces.",
    services_residential_title: "Residential Painting",
    services_residential_desc: "Expert painting services for homes, ensuring quality and attention to detail.",
    service_button: "Request Quote"
};

let currentLanguage = 'es';

function changeLanguage(lang) {
    currentLanguage = lang;
    updateContent();
    updateLanguageLinks();
}

function updateContent() {
    if (!currentLanguage) return;
    
    // Actualizar todos los elementos con data-translate
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[currentLanguage][key]) {
            element.textContent = translations[currentLanguage][key];
        }
    });

    // Actualizar específicamente los slides del carrusel
    document.querySelectorAll('.slide-title').forEach((title, index) => {
        const key = `slide_title_${index + 1}`;
        if (translations[currentLanguage][key]) {
            title.textContent = translations[currentLanguage][key];
        }
    });

    document.querySelectorAll('.slide-desc').forEach((desc, index) => {
        const key = `slide_desc_${index + 1}`;
        if (translations[currentLanguage][key]) {
            desc.textContent = translations[currentLanguage][key];
        }
    });

    // Navegación
    document.querySelectorAll('.nav-link').forEach(link => {
        const key = link.getAttribute('data-translate');
        if (key) link.textContent = translations[currentLanguage][key];
    });

    // Hero Section
    document.querySelector(".hero-content h1").textContent = translations[currentLanguage].hero_title;
    document.querySelector(".hero-content p").textContent = translations[currentLanguage].hero_subtitle;
    document.querySelector(".hero-content .cta-button").textContent = translations[currentLanguage].hero_cta;

    // About Section
    document.querySelector("#conocenos h2").textContent = translations[currentLanguage].about_title;
    document.querySelector(".about-text p").textContent = translations[currentLanguage].about_text_full;

    // Features translation
    const features = document.querySelectorAll('.feature');
    if (features.length >= 3) {
        features[0].querySelector('h3').textContent = translations[currentLanguage].feature_experience_title;
        features[0].querySelector('p').textContent = translations[currentLanguage].feature_experience_desc;
        
        features[1].querySelector('h3').textContent = translations[currentLanguage].feature_quality_title;
        features[1].querySelector('p').textContent = translations[currentLanguage].feature_quality_desc;
        
        features[2].querySelector('h3').textContent = translations[currentLanguage].feature_punctuality_title;
        features[2].querySelector('p').textContent = translations[currentLanguage].feature_punctuality_desc;
    }

    // Services Section
    document.querySelector("#servicios h2").textContent = translations[currentLanguage].services_title;
    document.querySelector("#proyectos h2").textContent = translations[currentLanguage].projects_title;
    document.querySelector("#contacto h2").textContent = translations[currentLanguage].contact_title;

    // Contact Section
    document.querySelector("#nombre").placeholder = translations[currentLanguage].contact_name;
    document.querySelector("#email").placeholder = translations[currentLanguage].contact_email;
    document.querySelector("#telefono").placeholder = translations[currentLanguage].contact_phone;
    document.querySelector("#mensaje").placeholder = translations[currentLanguage].contact_message;
    document.querySelector(".submit-btn").textContent = translations[currentLanguage].contact_send;

    // Footer & Misc
    document.querySelector(".whatsapp-text").textContent = translations[currentLanguage].chat_with_us;
    document.querySelector(".footer p").textContent = `© 2024 CH BROSS Painting. ${translations[currentLanguage].footer_rights}`;

    // Services Cards
    const serviceCards = document.querySelectorAll('.service-card');
    if (serviceCards.length >= 4) {
        // Interior
        updateServiceCard(serviceCards[0], 'service_1_title', 'service_1_item1', 'service_1_item2', 'service_1_item3', 'service_1_item4');
        
        // Exterior
        updateServiceCard(serviceCards[1], 'service_2_title', 'service_2_item1', 'service_2_item2', 'service_2_item3', 'service_2_item4');
        
        // Estructuras
        updateServiceCard(serviceCards[2], 'service_3_title', 'service_3_item1', 'service_3_item2', 'service_3_item3', 'service_3_item4');
        
        // Servicios Adicionales
        updateServiceCard(serviceCards[3], 'service_4_title', 'service_4_item1', 'service_4_item2', 'service_4_item3', 'service_4_item4');
        
        // Actualizar todos los botones de servicio
        document.querySelectorAll('.service-cta').forEach(button => {
            button.textContent = translations[currentLanguage].service_cta;
        });
    }

    // Actualizar texto del selector de idioma
    document.querySelector('.language-text').textContent = 
        translations[currentLanguage].select_language;
    
    // Actualizar tooltip de WhatsApp
    document.querySelector('.whatsapp-tooltip').textContent = 
        translations[currentLanguage].chat_with_us;
}

function updateLanguageLinks() {
    document.querySelectorAll('.lang-link').forEach(link => {
        if (link.textContent.toLowerCase().includes(currentLanguage)) {
            link.classList.add('active');
        } else {
            link.classList.remove('active');
        }
    });
}

document.addEventListener('DOMContentLoaded', function() {
    updateContent();
    updateLanguageLinks();

    // Initialize mobile menu functionality
    const menuButton = document.querySelector('.navbar-toggler');
    const navbarCollapse = document.querySelector('.navbar-collapse');

    if (menuButton && navbarCollapse) {
        menuButton.addEventListener('click', function() {
            navbarCollapse.classList.toggle('show');
            menuButton.setAttribute('aria-expanded', 
                menuButton.getAttribute('aria-expanded') === 'true' ? 'false' : 'true'
            );
        });

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            if (!navbarCollapse.contains(event.target) && !menuButton.contains(event.target)) {
                navbarCollapse.classList.remove('show');
                menuButton.setAttribute('aria-expanded', 'false');
            }
        });
    }
});

// Helper function for updating service features
function updateServiceFeatures(card, features) {
    const featuresList = card.querySelector('.service-features');
    if (featuresList && features) {
        const listItems = featuresList.querySelectorAll('li');
        features.forEach((feature, index) => {
            if (listItems[index]) {
                listItems[index].textContent = feature;
            }
        });
    }
}

// Agregar esta función helper
function updateServiceCard(card, titleKey, ...itemKeys) {
    const title = card.querySelector('h3');
    const features = card.querySelectorAll('.service-features li');
    
    if (title) {
        title.textContent = translations[currentLanguage][titleKey];
    }
    
    if (features.length > 0) {
        const featuresList = itemKeys.map(key => translations[currentLanguage][key]);
        features.forEach((feature, index) => {
            if (featuresList[index]) {
                feature.textContent = featuresList[index];
            }
        });
    }
}